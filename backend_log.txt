{"timestamp": "2026-02-06T18:51:31.708846Z", "level": "WARNING", "logger": "__main__", "message": "Warning: Khan Academy Sync module not available: cannot import name 'khan_academy_sync' from 'routes.admin' (C:\\Users\\tanne\\Desktop\\pw_v2\\backend\\routes\\admin\\__init__.py)", "module": "app", "function": "<module>", "line": 361}
{"timestamp": "2026-02-06T18:51:31.826551Z", "level": "ERROR", "logger": "routes.v1.users", "message": "\u0017 Failed to register API v1 user routes: cannot import name 'xp' from 'routes.users' (C:\\Users\\tanne\\Desktop\\pw_v2\\backend\\routes\\users\\__init__.py)", "module": "__init__", "function": "register_user_blueprints_v1", "line": 54}
{"timestamp": "2026-02-06T18:51:31.826675Z", "level": "WARNING", "logger": "routes.v1", "message": "\u2717 User routes v1 not yet migrated", "module": "__init__", "function": "register_v1_routes", "line": 84}
{"timestamp": "2026-02-06T18:51:31.905066Z", "level": "ERROR", "logger": "routes.v1.tutor", "message": "\u0017 Failed to register API v1 tutor routes: cannot import name 'history' from 'routes.tutor' (C:\\Users\\tanne\\Desktop\\pw_v2\\backend\\routes\\tutor\\__init__.py)", "module": "__init__", "function": "register_tutor_blueprints_v1", "line": 54}
{"timestamp": "2026-02-06T18:51:31.905171Z", "level": "WARNING", "logger": "routes.v1", "message": "\u2717 Tutor routes v1 not yet migrated", "module": "__init__", "function": "register_v1_routes", "line": 160}
 * Serving Flask app 'app'
 * Debug mode: off
{"timestamp": "2026-02-06T18:51:55.267721Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c7bc2a22-0916-4b6d-a53c-d8d2999cf2b8"}
{"timestamp": "2026-02-06T18:51:55.272730Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "115e3e62-f986-43c2-a2e1-94bea0392062"}
{"timestamp": "2026-02-06T18:52:10.783097Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b3a9c274-8d39-41f7-a6d4-1bc440fa3933"}
{"timestamp": "2026-02-06T18:52:11.216867Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "18113906-ee1e-4718-9f35-1154e4069c79"}
{"timestamp": "2026-02-06T18:52:12.274192Z", "level": "ERROR", "logger": "repositories.base_repository", "message": "Error creating observer_access_audit: {'message': 'No suitable key or wrong key type', 'code': 'PGRST301', 'hint': None, 'details': None}", "module": "base_repository", "function": "create", "line": 229, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b546ffa2-1126-483e-9dc6-85fe1dc20253"}
{"timestamp": "2026-02-06T18:52:12.274849Z", "level": "ERROR", "logger": "repositories.observer_audit_repository", "message": "Failed to log observer access: observer=76b8e8f5 student=72df2c0f action=view_feed error=Failed to create observer_access_audit", "module": "observer_audit_repository", "function": "log_access", "line": 92, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b546ffa2-1126-483e-9dc6-85fe1dc20253"}
{"timestamp": "2026-02-06T18:52:12.275081Z", "level": "ERROR", "logger": "services.observer_audit_service", "message": "Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "observer_audit_service", "function": "log_observer_access", "line": 94, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b546ffa2-1126-483e-9dc6-85fe1dc20253"}
{"timestamp": "2026-02-06T18:52:12.275168Z", "level": "ERROR", "logger": "routes.observer.feed", "message": "Failed to log feed access: Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "feed", "function": "get_observer_feed", "line": 591, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b546ffa2-1126-483e-9dc6-85fe1dc20253"}
{"timestamp": "2026-02-06T18:52:19.476421Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d4164b64-7a13-402e-bb1a-83ef47525ddf"}
{"timestamp": "2026-02-06T18:52:19.727562Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "93d76fb3-390a-4ea5-baeb-2bb0c6fc360f"}
{"timestamp": "2026-02-06T18:52:20.660324Z", "level": "ERROR", "logger": "repositories.base_repository", "message": "Error creating observer_access_audit: {'message': 'No suitable key or wrong key type', 'code': 'PGRST301', 'hint': None, 'details': None}", "module": "base_repository", "function": "create", "line": 229, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "fb401d60-3129-4eb0-9e49-beb863f017da"}
{"timestamp": "2026-02-06T18:52:20.660522Z", "level": "ERROR", "logger": "repositories.observer_audit_repository", "message": "Failed to log observer access: observer=76b8e8f5 student=72df2c0f action=view_feed error=Failed to create observer_access_audit", "module": "observer_audit_repository", "function": "log_access", "line": 92, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "fb401d60-3129-4eb0-9e49-beb863f017da"}
{"timestamp": "2026-02-06T18:52:20.660667Z", "level": "ERROR", "logger": "services.observer_audit_service", "message": "Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "observer_audit_service", "function": "log_observer_access", "line": 94, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "fb401d60-3129-4eb0-9e49-beb863f017da"}
{"timestamp": "2026-02-06T18:52:20.660746Z", "level": "ERROR", "logger": "routes.observer.feed", "message": "Failed to log feed access: Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "feed", "function": "get_observer_feed", "line": 591, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "fb401d60-3129-4eb0-9e49-beb863f017da"}
{"timestamp": "2026-02-06T18:52:36.790702Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "4e1a75f5-964a-4b69-86bd-7fb4eff3ce05"}
{"timestamp": "2026-02-06T18:52:37.244520Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3af3077d-f75b-4604-acb6-bf7ddfcd9e0d"}
{"timestamp": "2026-02-06T18:52:38.319425Z", "level": "ERROR", "logger": "repositories.base_repository", "message": "Error creating observer_access_audit: {'message': 'No suitable key or wrong key type', 'code': 'PGRST301', 'hint': None, 'details': None}", "module": "base_repository", "function": "create", "line": 229, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d4ea67ed-08bd-4cbe-a5e0-061718ff7d2e"}
{"timestamp": "2026-02-06T18:52:38.319620Z", "level": "ERROR", "logger": "repositories.observer_audit_repository", "message": "Failed to log observer access: observer=76b8e8f5 student=72df2c0f action=view_feed error=Failed to create observer_access_audit", "module": "observer_audit_repository", "function": "log_access", "line": 92, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d4ea67ed-08bd-4cbe-a5e0-061718ff7d2e"}
{"timestamp": "2026-02-06T18:52:38.319686Z", "level": "ERROR", "logger": "services.observer_audit_service", "message": "Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "observer_audit_service", "function": "log_observer_access", "line": 94, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d4ea67ed-08bd-4cbe-a5e0-061718ff7d2e"}
{"timestamp": "2026-02-06T18:52:38.319837Z", "level": "ERROR", "logger": "routes.observer.feed", "message": "Failed to log feed access: Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "feed", "function": "get_observer_feed", "line": 591, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d4ea67ed-08bd-4cbe-a5e0-061718ff7d2e"}
{"timestamp": "2026-02-06T18:53:39.046273Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "ea0face2-237f-4e0c-959a-045ce156ee0e"}
{"timestamp": "2026-02-06T18:53:39.652211Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "270dfc2b-7692-4b97-ba21-633cf1c83692"}
{"timestamp": "2026-02-06T18:53:47.392139Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "ab6d6f7c-75a3-49aa-89f6-7f227d350ef1"}
{"timestamp": "2026-02-06T18:53:47.472426Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "ab6d6f7c-75a3-49aa-89f6-7f227d350ef1"}
{"timestamp": "2026-02-06T18:53:47.665306Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "ab6d6f7c-75a3-49aa-89f6-7f227d350ef1"}
{"timestamp": "2026-02-06T18:53:47.693246Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2777e3f-8581-4a37-afec-239b6fbdf491"}
{"timestamp": "2026-02-06T18:53:47.820873Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2777e3f-8581-4a37-afec-239b6fbdf491"}
{"timestamp": "2026-02-06T18:53:47.985909Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2777e3f-8581-4a37-afec-239b6fbdf491"}
{"timestamp": "2026-02-06T18:53:50.825269Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "055e93c6-dbd3-4582-9482-84370ddfebcc"}
{"timestamp": "2026-02-06T18:53:51.068859Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cf161674-960b-420c-8fb5-9bf15c9a78af"}
{"timestamp": "2026-02-06T18:53:51.505753Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "a60ccfe0-2610-4847-a6d4-868786bcdfbe"}
{"timestamp": "2026-02-06T18:53:52.045004Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cef098e1-654f-4e62-9fcd-469f929566bc"}
{"timestamp": "2026-02-06T18:53:52.289119Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d73d45db-65c0-4cf0-a46b-89de3ec805bb"}
{"timestamp": "2026-02-06T18:53:52.717890Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3b9e2c1a-8909-4078-a5a3-7d18b9d65a81"}
{"timestamp": "2026-02-06T18:53:53.255830Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "efb2c051-5acf-43c0-b3a6-c6108b0b23d5"}
{"timestamp": "2026-02-06T18:53:53.514653Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3ddd9d11-1d10-4b14-bc8e-e052badfd8cd"}
{"timestamp": "2026-02-06T18:53:53.928156Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "88e1a185-5b8f-472d-b1f8-94390a096269"}
{"timestamp": "2026-02-06T18:53:54.526151Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "d041903c-66af-495d-b090-cb762b9200f2"}
{"timestamp": "2026-02-06T18:53:54.778590Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "b3b7eebe-f0b6-4f98-985b-96f78f4947d4"}
{"timestamp": "2026-02-06T18:53:55.218520Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "9972e5c2-338f-4e35-8443-4d09af4b682b"}
{"timestamp": "2026-02-06T18:53:55.755588Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "7e5ceee3-9879-4ea4-9da6-b5f63310f2fe"}
{"timestamp": "2026-02-06T18:53:55.996173Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "e9886216-84f7-4a8b-918a-2da2fb091026"}
{"timestamp": "2026-02-06T18:53:56.487607Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "94f132b1-2a6b-4332-9607-e813a234d69c"}
{"timestamp": "2026-02-06T18:53:56.957078Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "1ac7e9bb-01c9-44d8-85a3-b331f53c63c2"}
{"timestamp": "2026-02-06T18:53:57.203642Z", "level": "ERROR", "logger": "routes.quest.listing", "message": "Error listing quests: {'message': 'infinite recursion detected in policy for relation \"users\"', 'code': '42P17', 'hint': None, 'details': None}", "module": "listing", "function": "list_quests", "line": 320, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c177fbb2-af2e-407b-bfdd-1c3cfac54e03"}
{"timestamp": "2026-02-06T18:54:04.359845Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "28254f55-b839-4a9b-baf2-c64ead325a3b"}
{"timestamp": "2026-02-06T18:54:04.366450Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "6d065960-05e9-4915-b4a0-8627fff3d645"}
{"timestamp": "2026-02-06T18:54:05.793636Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "a0bbf1cf-1caf-499a-b7d1-8492f8547cb8"}
{"timestamp": "2026-02-06T18:54:05.873877Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cee667ef-4fd9-4ebb-988e-00f0cc1abc27"}
{"timestamp": "2026-02-06T18:54:05.885686Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "a0bbf1cf-1caf-499a-b7d1-8492f8547cb8"}
{"timestamp": "2026-02-06T18:54:05.981738Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cee667ef-4fd9-4ebb-988e-00f0cc1abc27"}
{"timestamp": "2026-02-06T18:54:06.109931Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "a0bbf1cf-1caf-499a-b7d1-8492f8547cb8"}
{"timestamp": "2026-02-06T18:54:06.173425Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cee667ef-4fd9-4ebb-988e-00f0cc1abc27"}
{"timestamp": "2026-02-06T18:54:07.996658Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=2, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "e446dcc7-fd23-4ad1-b887-d185a9dbeef3"}
{"timestamp": "2026-02-06T18:54:08.086193Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "e446dcc7-fd23-4ad1-b887-d185a9dbeef3"}
{"timestamp": "2026-02-06T18:54:08.366649Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "e446dcc7-fd23-4ad1-b887-d185a9dbeef3"}
{"timestamp": "2026-02-06T18:54:09.366757Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=3, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2026156-f5ed-4937-abc5-6b797e5581a7"}
{"timestamp": "2026-02-06T18:54:09.465370Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2026156-f5ed-4937-abc5-6b797e5581a7"}
{"timestamp": "2026-02-06T18:54:09.625379Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "c2026156-f5ed-4937-abc5-6b797e5581a7"}
{"timestamp": "2026-02-06T18:54:13.853960Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "e8e563a5-bcf5-48e6-a839-153a42db0a05"}
{"timestamp": "2026-02-06T18:54:14.105504Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "147f9a9d-4ce0-4ad7-9afe-3f839a259f1c"}
{"timestamp": "2026-02-06T18:54:15.119621Z", "level": "ERROR", "logger": "repositories.base_repository", "message": "Error creating observer_access_audit: {'message': 'No suitable key or wrong key type', 'code': 'PGRST301', 'hint': None, 'details': None}", "module": "base_repository", "function": "create", "line": 229, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "227e2abd-0424-44fc-9d55-fe09771fb204"}
{"timestamp": "2026-02-06T18:54:15.119958Z", "level": "ERROR", "logger": "repositories.observer_audit_repository", "message": "Failed to log observer access: observer=76b8e8f5 student=72df2c0f action=view_feed error=Failed to create observer_access_audit", "module": "observer_audit_repository", "function": "log_access", "line": 92, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "227e2abd-0424-44fc-9d55-fe09771fb204"}
{"timestamp": "2026-02-06T18:54:15.120035Z", "level": "ERROR", "logger": "services.observer_audit_service", "message": "Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "observer_audit_service", "function": "log_observer_access", "line": 94, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "227e2abd-0424-44fc-9d55-fe09771fb204"}
{"timestamp": "2026-02-06T18:54:15.120117Z", "level": "ERROR", "logger": "routes.observer.feed", "message": "Failed to log feed access: Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "feed", "function": "get_observer_feed", "line": 591, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "227e2abd-0424-44fc-9d55-fe09771fb204"}
{"timestamp": "2026-02-06T18:54:16.812593Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "ec8f0bc7-32d5-478a-a769-97069e8d11cc"}
{"timestamp": "2026-02-06T18:54:17.199770Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "24d3a2bc-8f27-46b8-9890-6b2a6f05b7f8"}
{"timestamp": "2026-02-06T18:54:20.574006Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "6607f5ea-704e-4c2d-9fc9-6a01acb0b71a"}
{"timestamp": "2026-02-06T18:54:20.577425Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=1, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "f85f81aa-3b5c-4b09-965e-e62c6dc7b1ef"}
{"timestamp": "2026-02-06T18:54:20.679058Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "6607f5ea-704e-4c2d-9fc9-6a01acb0b71a"}
{"timestamp": "2026-02-06T18:54:20.688923Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "f85f81aa-3b5c-4b09-965e-e62c6dc7b1ef"}
{"timestamp": "2026-02-06T18:54:20.894558Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "6607f5ea-704e-4c2d-9fc9-6a01acb0b71a"}
{"timestamp": "2026-02-06T18:54:20.899438Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "f85f81aa-3b5c-4b09-965e-e62c6dc7b1ef"}
{"timestamp": "2026-02-06T18:54:22.550177Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=2, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "4eeedba3-e823-4f14-853e-14168a6f9fd6"}
{"timestamp": "2026-02-06T18:54:22.630196Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "4eeedba3-e823-4f14-853e-14168a6f9fd6"}
{"timestamp": "2026-02-06T18:54:22.848962Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "4eeedba3-e823-4f14-853e-14168a6f9fd6"}
{"timestamp": "2026-02-06T18:54:23.984185Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=3, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3943376b-e7ab-4ecd-a761-4bacd5239a7c"}
{"timestamp": "2026-02-06T18:54:24.067914Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3943376b-e7ab-4ecd-a761-4bacd5239a7c"}
{"timestamp": "2026-02-06T18:54:24.281972Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "3943376b-e7ab-4ecd-a761-4bacd5239a7c"}
{"timestamp": "2026-02-06T18:54:25.452008Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] Calling get_quests_for_user: user_id=76b8e8f5-6e99-4a75-b210-8a3402556e92, filters={}, page=4, limit=12", "module": "listing", "function": "list_quests", "line": 134, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cbed57e7-7922-4ac8-b1f6-a83aeef084ce"}
{"timestamp": "2026-02-06T18:54:25.534589Z", "level": "WARNING", "logger": "repositories.quest_repository", "message": "RPC get_user_organization not found, using direct query: {'message': 'relation \"users\" does not exist', 'code': '42P01', 'hint': None, 'details': None}", "module": "quest_repository", "function": "get_quests_for_user", "line": 531, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cbed57e7-7922-4ac8-b1f6-a83aeef084ce"}
{"timestamp": "2026-02-06T18:54:25.771929Z", "level": "WARNING", "logger": "routes.quest.listing", "message": "[DEBUG] get_quests_for_user returned 12 quests, total=159", "module": "listing", "function": "list_quests", "line": 141, "request": {"method": "GET", "path": "/api/quests", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "cbed57e7-7922-4ac8-b1f6-a83aeef084ce"}
{"timestamp": "2026-02-06T18:54:32.240268Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "93321cf9-50f0-4245-b40f-a86cdf46012a"}
{"timestamp": "2026-02-06T18:54:32.490937Z", "level": "WARNING", "logger": "repositories.base_repository", "message": "Using admin client for site_settings repository. Ensure this is intentional and RLS is not being bypassed.", "module": "base_repository", "function": "client", "line": 112, "request": {"method": "GET", "path": "/api/settings", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "8aa4fcce-3fa0-4e9a-94a3-e9e14f049205"}
{"timestamp": "2026-02-06T18:54:33.702344Z", "level": "ERROR", "logger": "repositories.base_repository", "message": "Error creating observer_access_audit: {'message': 'No suitable key or wrong key type', 'code': 'PGRST301', 'hint': None, 'details': None}", "module": "base_repository", "function": "create", "line": 229, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "0de2e34b-a51e-4132-9ecb-6b371eeee584"}
{"timestamp": "2026-02-06T18:54:33.702546Z", "level": "ERROR", "logger": "repositories.observer_audit_repository", "message": "Failed to log observer access: observer=76b8e8f5 student=72df2c0f action=view_feed error=Failed to create observer_access_audit", "module": "observer_audit_repository", "function": "log_access", "line": 92, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "0de2e34b-a51e-4132-9ecb-6b371eeee584"}
{"timestamp": "2026-02-06T18:54:33.702612Z", "level": "ERROR", "logger": "services.observer_audit_service", "message": "Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "observer_audit_service", "function": "log_observer_access", "line": 94, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "0de2e34b-a51e-4132-9ecb-6b371eeee584"}
{"timestamp": "2026-02-06T18:54:33.702685Z", "level": "ERROR", "logger": "routes.observer.feed", "message": "Failed to log feed access: Failed to log observer access: Failed to log observer access: Failed to create observer_access_audit", "module": "feed", "function": "get_observer_feed", "line": 591, "request": {"method": "GET", "path": "/api/observers/feed", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}, "correlation_id": "0de2e34b-a51e-4132-9ecb-6b371eeee584"}
