{% extends "email/base.html" %}
{% from "email/signatures.html" import signature_team, signature_tanner, signature_support %}

{% block content %}
<h1 style="color: #6d469b; font-size: 28px; margin-bottom: 20px;">{{ title }}</h1>

{% if salutation %}
<p style="font-size: 16px; line-height: 1.6; color: #333; margin-bottom: 20px;">
    {{ salutation }}
</p>
{% endif %}

{% for paragraph in paragraphs %}
<p style="font-size: 16px; line-height: 1.6; color: #333; margin-bottom: 20px;">
    {{ paragraph|safe }}
</p>
{% endfor %}

{% if details_box %}
<div style="background: linear-gradient(135deg, #ef597b 0%, #6d469b 100%); padding: 20px; border-radius: 8px; margin: 30px 0;">
    <h2 style="color: white; font-size: 20px; margin: 0 0 15px 0;">{{ details_box.title }}</h2>
    <table style="width: 100%; color: white;">
        {% for field in details_box.fields %}
        {% if not field.conditional or (field.conditional and field.value) %}
        <tr>
            <td style="padding: 8px 0;"><strong>{{ field.label }}:</strong></td>
            <td style="padding: 8px 0; text-align: right;">{{ field.value|safe }}</td>
        </tr>
        {% endif %}
        {% endfor %}
    </table>
</div>
{% endif %}

{% if middle_paragraph %}
<p style="font-size: 16px; line-height: 1.6; color: #333; margin-bottom: 20px;">
    {{ middle_paragraph|safe }}
</p>
{% endif %}

{% if what_next %}
<p style="font-size: 16px; line-height: 1.6; color: #333; margin-bottom: 20px;">
    <strong>{{ what_next.title }}</strong>
</p>

<ul style="font-size: 16px; line-height: 1.8; color: #333; margin-bottom: 30px; padding-left: 20px;">
    {% for item in what_next.bullet_points %}
    <li>{{ item|safe }}</li>
    {% endfor %}
</ul>
{% endif %}

{% if closing_paragraph %}
<p style="font-size: 16px; line-height: 1.6; color: #333; margin-bottom: 20px;">
    {{ closing_paragraph }}
</p>
{% endif %}

{% if footer_note %}
<div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee;">
    <p style="font-size: 14px; color: #666; line-height: 1.6;">
        {{ footer_note|safe }}
    </p>
</div>
{% endif %}
{% endblock %}

{% block signature %}
{% if signature == 'tanner' %}
{{ signature_tanner() }}
{% elif signature == 'team' %}
{{ signature_team() }}
{% else %}
{{ signature_support() }}
{% endif %}
{% endblock %}
